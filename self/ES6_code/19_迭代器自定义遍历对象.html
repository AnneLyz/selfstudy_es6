<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>迭代器自定义遍历对象</title>
    <!-- <script src="js/jquery-1.12.4.js"></script> -->
</head>
<body>
    <script>
        // 迭代器作用：自定义遍历数据

        // 声明一个对象
        const myClass = {
            name:'终极一班',
            stus:[
                'xiaoming',
                'xiaohua',
                'xiaoning',
                'xiaotian'
            ],
            // 需要一个[Symbol.iterator]方法
            [Symbol.iterator](){
                // 索引变量
                let index = 0;
                // this
                let _this = this;
                // 方法的返回结果是一个指针对象
                return {
                    // 指针对象有一个next方法
                    next: function(){
                        if(index < _this.stus.length){
                            // 每次调用next方法返回一个包含value和done属性的对象
                            const result = {value:_this.stus[index],done:false};
                            // 下标自增
                            index++;
                            // 返回结果
                            return result;
                        }else {
                            return {value:undefined,done:true}
                        }
                    }
                };
            }
        }
        // 遍历这个对象的数组
        for(let v of myClass){
            console.log(v);
        }

        // 使用forEach遍历
        // myClass.stus.forEach(function(value,index){
        //     console.log(value);
        // });
        // 使用$.each遍历
        // $.each(myClass.stus,function(index,value){
        //     console.log(value)
        // });
    </script>
</body>
</html>